<!doctype html>
<html xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>
<body>
  <div class="">
    <div class=" h-screen  flex flex-col justify-center items-center p-50">
    <form onsubmit="progress_updater()" class="w-full max-w-lg"  action="/ig/insta-scrap" method="post">
  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="name">
        Your Name
      </label>
      <input name="name" class="appearance-none block w-full bg-gray-200 text-gray-700 border  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="name" type="text" placeholder="John Doe">
<!--      <p class="text-red-500 text-xs italic">Please fill out this field.</p>-->
    </div>
    <div class="w-full md:w-1/2 px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="email">
        YOUR EMAIL
      </label>
      <input name="email" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="email" type="text" placeholder="example@gmail.com">
    </div>
  </div>

  <div class="flex flex-wrap -mx-3 mb-6">
  <div class="w-full px-3">
    <label for="influencers" class="form-label inline-block mb-2 text-gray-700"
      >Instagram Usernames of Influencers (max 5)</label
    >
    <textarea
      class="
        form-control
        block
        w-full
        px-3
        py-1.5
        text-base
        font-normal
        text-gray-700
        bg-white bg-clip-padding
        border border-solid border-gray-300
        rounded
        transition
        ease-in-out
        m-0
        focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none
      "
      id="influencers" name="influencers" rows="3"
      placeholder="Comma separated list of usernames whom you want to get the list of following. eg. JaneDoe, JohnDoe, JohnSmith"
    ></textarea>
  </div>
</div>
      <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3">

    </div>
  </div>
<div class="flex flex-wrap -mx-3 mb-6 px-6">
  <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" >
        PROGRESS
      </label>
  <div class="w-full bg-red-100 rounded-full dark:bg-red-100">
    <div id="progress" class="bg-green-700 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full" style="width: 5%"> 0%</div>
  </div>
</div>
 <div class="flex flex-wrap -mx-3 mb-6 px-3 py-4">
  <button id="start_button" class="w-full bg-red-400 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
        START
      </button>
</div>
</form>
  </div>
  </div>

  <script>
    // var source = new EventSource("http://localhost:8000/ig/stream-logs");
    var source = new EventSource("https://52.30.84.14:8000/ig/stream-logs");
    source.onmessage = function(event) {
        console.log(event.data);
        document.getElementById("progress").innerHTML = event.data + "%";
        document.getElementById("progress").style.width = (event.data) + "%";
      };
    function progress_updater(){

    }

</script>



</body>
</html>